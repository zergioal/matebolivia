<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Juegos de Matem√°tica | MateBolivia</title>
    <link rel="stylesheet" href="estilos/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- HEADER Y NAVBAR -->
    <header>
      <div
        class="container-fluid d-flex align-items-center justify-content-between py-1 px-4"
      >
        <img
          src="assets/logo-educainnova.png"
          class="img-fluid"
          style="width: 30%"
        />
        <img
          src="assets/logo-bicen2.png"
          class="img-fluid"
          style="width: 25%"
        />
      </div>

      <nav class="navbar navbar-expand-lg navbar-dark bg-edu shadow-sm py-3">
        <div class="container">
          <a
            class="navbar-brand d-flex align-items-center gap-2"
            href="index.html"
          >
            <img
              src="assets/logo.png"
              alt="Logo MateBolivia"
              class="logo-navbar"
            />
            <span class="titulo-navbar">MateBolivia</span>
          </a>

          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarContenido"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarContenido">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a class="nav-link" href="index.html">Inicio</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="juegos.html">Juegos</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="recursos.html">Recursos</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="experiencias.html">Experiencias</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="olimpiadas.html">Olimpiadas</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="acerca.html">Acerca</a>
              </li>
              <li class="nav-item" id="navbar-user-area"></li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- <main class="juegos-matematica">
      <section class="juegos-grid">
        <h2>Juegos de Matem√°tica</h2>
        <div class="grid-juegos">
          <a href="juego-suma.html" class="juego-card">Suma de enteros</a>
          <a href="juego-resta.html" class="juego-card">Resta de enteros</a>
          <a href="juego-multiplicacion.html" class="juego-card"
            >Multiplicaci√≥n de enteros</a
          >
          <a href="juego-division.html" class="juego-card"
            >Divisi√≥n de enteros</a
          >
          <a href="juego_fracciones_drag.html" class="juego-card"
            >Fracciones equivalentes</a
          >
          <a href="juego-fraccion-arcade.html" class="juego-card"
            >Operaciones con fracciones</a
          >
          <a href="#" class="juego-card">Problemas con porcentajes</a>
          <a href="#" class="juego-card">Operaciones combinadas</a>
          <a href="#" class="juego-card">Potencias y ra√≠ces</a>
          <a href="#" class="juego-card">Productos notables</a>
          <a href="#" class="juego-card">Operaciones algebraicas</a>
          <a href="#" class="juego-card">Factorizaci√≥n</a>
          <a href="#" class="juego-card">Ecuaciones de primer grado</a>
          <a href="#" class="juego-card"
            >Problemas con ecuaciones de primer grado</a
          >
          <a href="#" class="juego-card">Sistemas de ecuaciones lineales</a>
          <a href="#" class="juego-card">Ecuaciones de segundo grado</a>
          <a href="#" class="juego-card">Funciones cuadr√°ticas</a>
          <a href="#" class="juego-card"
            >Ecuaciones exponenciales y logar√≠tmicas</a
          >
          <a href="juego-trig.html" class="juego-card"
            >Resoluci√≥n de tri√°ngulos</a
          >
          <a href="#" class="juego-card">Funciones trigonom√©tricas</a>
          <a href="#" class="juego-card">Identidades trigonom√©tricas</a>
          <a href="#" class="juego-card">Geometr√≠a anal√≠tica</a>
          <a href="#" class="juego-card">Pre-c√°lculo</a>
          <a href="#" class="juego-card">Geometr√≠a</a>
        </div>
      </section>

      <aside class="ranking">
        <h3>Top 10 jugadores</h3>
        <ol class="ranking-list">
          <li>Estudiante 1 ‚Äì 980 pts</li>
          <li>Estudiante 2 ‚Äì 920 pts</li>
          <li>Estudiante 3 ‚Äì 910 pts</li>
          <li>Estudiante 4 ‚Äì 870 pts</li>
          <li>Estudiante 5 ‚Äì 860 pts</li>
          <li>Estudiante 6 ‚Äì 830 pts</li>
          <li>Estudiante 7 ‚Äì 810 pts</li>
          <li>Estudiante 8 ‚Äì 800 pts</li>
          <li>Estudiante 9 ‚Äì 790 pts</li>
          <li>Estudiante 10 ‚Äì 780 pts</li>
        </ol>
      </aside>
    </main> -->
    <main class="container py-5">
      <div class="row">
        <!-- SECCI√ìN JUEGOS -->
        <section class="col-lg-8 mb-4">
          <h2 class="mb-4 text-center fw-bold text-primary">
            Juegos de Matem√°tica
          </h2>
          <div class="row g-3">
            <a href="juego-suma.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Suma de enteros</h5>
                </div>
              </div>
            </a>
            <a href="juego-resta.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Resta de enteros</h5>
                </div>
              </div>
            </a>

            <a href="juego-multiplicacion.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Multiplicaci√≥n de enteros</h5>
                </div>
              </div>
            </a>

            <a href="juego-division.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Divisi√≥n de enteros</h5>
                </div>
              </div>
            </a>

            <a href="juego_fracciones_drag.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Fracciones equivalentes</h5>
                </div>
              </div>
            </a>

            <a href="juego-fraccion-arcade.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Operaciones con fracciones</h5>
                </div>
              </div>
            </a>

            <a href="juego-reducci√≥n.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Reducci√≥n de t√©rminos semejantes</h5>
                </div>
              </div>
            </a>

            <a href="juego-monomios.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Multiplicaci√≥n de monomios</h5>
                </div>
              </div>
            </a>

            <a href="juego-binomios.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Multiplicaci√≥n de binomios</h5>
                </div>
              </div>
            </a>

            <a href="juego-trig.html" class="col-6 col-md-4">
              <div class="card h-100 shadow border-0 juego-card">
                <div
                  class="card-body d-flex flex-column justify-content-center text-center"
                >
                  <h5 class="card-title">Resoluci√≥n de tri√°ngulos</h5>
                </div>
              </div>
            </a>
            <!-- ... repetir para los dem√°s juegos -->
          </div>
        </section>

        <!-- SECCI√ìN RANKING -->
        <aside class="col-lg-4">
          <div class="card shadow border-0">
            <div class="card-header bg-success text-white text-center fw-bold">
              üèÜ Top 10 Estudiantes Global
            </div>
            <ul
              class="list-group list-group-flush ranking-list"
              id="ranking-global"
            >
              <li class="list-group-item text-center">Cargando...</li>
            </ul>
          </div>
        </aside>
      </div>
    </main>

    <footer>
      <p>
        ¬© 2025 MateBolivia. Proyecto educativo desarrollado por el Prof. Sergio
        Alcocer.
      </p>
    </footer>
    <script type="module">
      import { BASE_API_URL } from "./scripts/config.js";

      async function cargarRankingGlobal() {
        const ul = document.getElementById("ranking-global");
        ul.innerHTML =
          '<li class="list-group-item text-center">Cargando...</li>';

        try {
          const res = await fetch(`${BASE_API_URL}/ranking/global`);
          const data = await res.json();

          if (res.ok && data.jugadores && data.jugadores.length > 0) {
            ul.innerHTML = "";
            data.jugadores.forEach((jugador, i) => {
              ul.innerHTML += `
  <li class="list-group-item">
    <div class="d-flex align-items-center">
      <span class="me-2 fw-bold text-secondary">#${i + 1}</span>
      <img src="${
        jugador.avatar_url || "assets/avatar-default.png"
      }" alt="Avatar" class="rounded-circle me-2" style="width: 40px; height: 40px; object-fit: cover;">
      <div class="flex-grow-1">
        <div class="fw-bold">${jugador.nombre}</div>
        <div class="text-muted small">${
          jugador.clase ?? "Sin clase asignada"
        }</div>
      </div>
      <span class="badge bg-success ms-2">${jugador.puntos} pts</span>
    </div>
  </li>
`;
            });
          } else {
            ul.innerHTML =
              '<li class="list-group-item text-center">No hay datos disponibles.</li>';
          }
        } catch (err) {
          console.error(err);
          ul.innerHTML =
            '<li class="list-group-item text-danger text-center">Error al cargar ranking.</li>';
        }
      }

      document.addEventListener("DOMContentLoaded", cargarRankingGlobal);
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="scripts/navbar.js"></script>
  </body>
</html>
